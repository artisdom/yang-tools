<?xml version="1.0"?>
<nc:config
    xmlns:nc="urn:ietf:params:xml:ns:netconf:base:1.0"
    xmlns:bird="http://www.nic.cz/ns/bird"
    xmlns:v4ur="urn:ietf:params:xml:ns:yang:ietf-ipv4-unicast-routing"
    xmlns:v6ur="urn:ietf:params:xml:ns:yang:ietf-ipv6-unicast-routing"
    xmlns:if="urn:ietf:params:xml:ns:yang:ietf-interfaces"
    xmlns:ip="urn:ietf:params:xml:ns:yang:ietf-ip"
    xmlns:rt="urn:ietf:params:xml:ns:yang:ietf-routing">
  <if:interfaces>
    <if:interface>
      <if:name>eth0</if:name>
      <if:type>ethernetCsmacd</if:type>
      <if:location>eth0</if:location>
      <ip:ipv4>
	<ip:address>
	  <ip:ip>192.0.2.1</ip:ip>
	  <ip:prefix-length>24</ip:prefix-length>
	  <bird:primary>true</bird:primary>
	</ip:address>
	<ip:address>
	  <ip:ip>198.51.100.1</ip:ip>
	  <ip:prefix-length>24</ip:prefix-length>
	</ip:address>
      </ip:ipv4>
      <ip:ipv6>
	<ip:address>
	  <ip:ip>2001:0db8:0:1::1</ip:ip>
	  <ip:prefix-length>64</ip:prefix-length>
	  <bird:primary>true</bird:primary>
	</ip:address>
	<ip:autoconf>
	  <ip:create-global-addresses>false</ip:create-global-addresses>
	</ip:autoconf>
      </ip:ipv6>
    </if:interface>
    <if:interface>
      <if:name>eth1</if:name>
      <if:type>ethernetCsmacd</if:type>
      <if:location>eth1</if:location>
      <ip:ipv4>
	<ip:address>
	  <ip:ip>198.51.100.1</ip:ip>
	  <ip:prefix-length>24</ip:prefix-length>
	</ip:address>
      </ip:ipv4>
      <ip:ipv6>
	<ip:address>
	  <ip:ip>2001:0db8:0:2::1</ip:ip>
	  <ip:prefix-length>64</ip:prefix-length>
	</ip:address>
	<ip:autoconf>
	  <ip:create-global-addresses>false</ip:create-global-addresses>
	</ip:autoconf>
      </ip:ipv6>
    </if:interface>
  </if:interfaces>
  <rt:routing>
    <rt:router>
      <rt:name>bird</rt:name>
      <rt:main-routing-tables>
	<rt:main-routing-table>
	  <rt:address-family>ipv4</rt:address-family>
	  <rt:safi>nlri-unicast</rt:safi>
	  <rt:name>main-ipv4</rt:name>
	</rt:main-routing-table>
      </rt:main-routing-tables>
      <bird:bird-config>
	<bird:address-family>ipv4</bird:address-family>
	<bird:logging>
	  <bird:log>
	    <bird:id>1</bird:id>
	    <bird:destination>
	      <bird:syslog/>
	    </bird:destination>
	  </bird:log>
	  <bird:log>
	    <bird:id>2</bird:id>
	    <bird:destination>
	      <bird:file>/var/log/bird.log</bird:file>
	    </bird:destination>
	    <bird:log-classes>
	      <bird:class>info</bird:class>
	    </bird:log-classes>
	  </bird:log>
	</bird:logging>
      </bird:bird-config>
      <rt:interfaces>
	<bird:scan-time>10</bird:scan-time>
	<rt:interface>
	  <rt:name>eth0</rt:name>
	</rt:interface>
	<rt:interface>
	  <rt:name>eth1</rt:name>
	</rt:interface>
      </rt:interfaces>
      <rt:routing-protocols>
	<rt:routing-protocol>
	  <rt:name>kernel</rt:name>
	  <rt:type>bird:kernel</rt:type>
	  <bird:scan-time>30</bird:scan-time>
	  <bird:persist>true</bird:persist>
	</rt:routing-protocol>
	<rt:routing-protocol>
	  <rt:name>static</rt:name>
	  <rt:type>rt:static</rt:type>
	  <rt:connected-routing-tables>
	    <rt:connected-routing-table>
	      <rt:name>main-ipv4</rt:name>
	    </rt:connected-routing-table>
	  </rt:connected-routing-tables>
	  <rt:static-routes>
	    <v4ur:ipv4>
	      <v4ur:route>
		<v4ur:id>1</v4ur:id>
		<v4ur:dest-prefix>0.0.0.0/0</v4ur:dest-prefix>
		<v4ur:next-hop>192.0.2.2</v4ur:next-hop>
	      </v4ur:route>
	    </v4ur:ipv4>
	  </rt:static-routes>
	</rt:routing-protocol>
      </rt:routing-protocols>
    </rt:router>
    <rt:router>
      <rt:name>bird6</rt:name>
      <rt:router-id>192.0.2.1</rt:router-id>
      <rt:main-routing-tables>
	<rt:main-routing-table>
	  <rt:address-family>ipv6</rt:address-family>
	  <rt:safi>nlri-unicast</rt:safi>
	  <rt:name>main-ipv6</rt:name>
	</rt:main-routing-table>
      </rt:main-routing-tables>
       <bird:bird-config>
	<bird:address-family>ipv6</bird:address-family>
	<bird:logging>
	  <bird:log>
	    <bird:id>1</bird:id>
	    <bird:destination>
	      <bird:syslog/>
	    </bird:destination>
	  </bird:log>
	  <bird:log>
	    <bird:id>2</bird:id>
	    <bird:destination>
	      <bird:file>/var/log/bird6.log</bird:file>
	    </bird:destination>
	    <bird:log-classes>
	      <bird:class>info</bird:class>
	    </bird:log-classes>
	  </bird:log>
	</bird:logging>
      </bird:bird-config>
      <rt:interfaces>
	<rt:interface>
	  <rt:name>eth0</rt:name>
	</rt:interface>
	<rt:interface>
	  <rt:name>eth1</rt:name>
	  <v6ur:ipv6-router-advertisements>
	    <v6ur:send-advertisements>true</v6ur:send-advertisements>
	    <v6ur:prefix-list>
	      <v6ur:prefix>
		<v6ur:prefix-spec>2001:db8:0:2::/64</v6ur:prefix-spec>
	      </v6ur:prefix>
	    </v6ur:prefix-list>
	  </v6ur:ipv6-router-advertisements>
	</rt:interface>
      </rt:interfaces>
      <rt:routing-protocols>
	<rt:routing-protocol>
	  <rt:name>kernel</rt:name>
	  <rt:type>bird:kernel</rt:type>
	  <bird:scan-time>30</bird:scan-time>
	  <bird:persist>true</bird:persist>
	</rt:routing-protocol>
	<rt:routing-protocol>
	  <rt:name>static</rt:name>
	  <rt:type>rt:static</rt:type>
	  <rt:connected-routing-tables>
	    <rt:connected-routing-table>
	      <rt:name>main-ipv6</rt:name>
	    </rt:connected-routing-table>
	  </rt:connected-routing-tables>
	  <rt:static-routes>
	    <v6ur:ipv6>
	      <v6ur:route>
		<v6ur:id>1</v6ur:id>
		<v6ur:dest-prefix>::/0</v6ur:dest-prefix>
		<v6ur:next-hop>2001:db8:0:1::2</v6ur:next-hop>
	      </v6ur:route>
	    </v6ur:ipv6>
	  </rt:static-routes>
	</rt:routing-protocol>
      </rt:routing-protocols>
    </rt:router>
    <rt:routing-tables>
      <rt:routing-table>
	<rt:name>kernel-ipv4</rt:name>
	<rt:address-family>ipv4</rt:address-family>
	<rt:safi>nlri-unicast</rt:safi>
      </rt:routing-table>
      <rt:routing-table>
	<rt:name>kernel-ipv6</rt:name>
	<rt:address-family>ipv6</rt:address-family>
	<rt:safi>nlri-unicast</rt:safi>
      </rt:routing-table>
      <rt:routing-table>
	<rt:name>main-ipv4</rt:name>
	<rt:address-family>ipv4</rt:address-family>
	<rt:safi>nlri-unicast</rt:safi>
	<rt:recipient-routing-tables>
	  <rt:recipient-routing-table>
	    <rt:name>kernel-ipv4</rt:name>
	  </rt:recipient-routing-table>
	</rt:recipient-routing-tables>
      </rt:routing-table>
      <rt:routing-table>
	<rt:name>main-ipv6</rt:name>
	<rt:address-family>ipv6</rt:address-family>
	<rt:safi>nlri-unicast</rt:safi>
	<rt:recipient-routing-tables>
	  <rt:recipient-routing-table>
	    <rt:name>kernel-ipv6</rt:name>
	  </rt:recipient-routing-table>
	</rt:recipient-routing-tables>
      </rt:routing-table>
    </rt:routing-tables>
  </rt:routing>
</nc:config>
